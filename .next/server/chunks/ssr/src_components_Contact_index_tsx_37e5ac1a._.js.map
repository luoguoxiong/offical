{"version":3,"sources":["../../../../src/components/Contact/index.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\n\nconst Contact = () => {\n  const [form, setForm] = useState({\n    name: \"\",\n    email: \"\",\n    content: \"\",\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [errors, setErrors] = useState<any>({});\n\n  const handleChange = (e: any) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    });\n\n    // 输入时清除对应错误\n    setErrors({\n      ...errors,\n      [e.target.name]: \"\",\n    });\n  };\n\n  const validate = () => {\n    let newErrors: any = {};\n\n    if (!form.name.trim()) {\n      newErrors.name = \"Please enter your name\";\n    }\n\n    if (!form.email.trim()) {\n      newErrors.email = \"Please enter your email\";\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(form.email)) {\n      newErrors.email = \"Invalid email format\";\n    }\n\n    if (!form.content.trim()) {\n      newErrors.content = \"Please enter your message\";\n    }\n\n    setErrors(newErrors);\n\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e: any) => {\n    e.preventDefault();\n\n    setMessage(\"\");\n\n    if (!validate()) return;\n\n    setLoading(true);\n\n    try {\n      const res = await fetch(\"/api/send\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(form),\n      });\n\n      const data = await res.json();\n\n      if (data.code === 200) {\n        setMessage(\"✅ Your message has been sent successfully!\");\n        setForm({ name: \"\", email: \"\", content: \"\" });\n      } else {\n        setMessage(\"❌ Failed to send message. Please try again.\");\n      }\n    } catch (error) {\n      setMessage(\"❌ Something went wrong. Please try again.\");\n    }finally{\n      setTimeout(() => {\n        setMessage('')\n      }, 2000);\n    }\n    setLoading(false);\n  };\n\n  return (\n    <section id=\"contact\" className=\"overflow-hidden  md:py-20 \">\n      <div className=\"container\">\n        <div className=\"-mx-4 flex flex-wrap\">\n          <div className=\"w-full px-4\">\n            <div\n              className=\"mb-12 rounded-xs bg-white px-8 py-11 shadow-three dark:bg-gray-dark sm:p-[55px] lg:mb-5 lg:px-8 xl:p-[55px]\"\n              data-wow-delay=\".15s\"\n            >\n              <h2 className=\"mb-3 text-2xl font-bold text-black dark:text-white sm:text-3xl lg:text-2xl xl:text-3xl\">\n                Need Help? Open a Ticket\n              </h2>\n              <p className=\"mb-12 text-base font-medium text-body-color\">\n                Our support team will get back to you ASAP via email.\n              </p>\n\n              <form onSubmit={handleSubmit}>\n                <div className=\"-mx-4 flex flex-wrap\">\n                  {/* Name */}\n                  <div className=\"w-full px-4 md:w-1/2\">\n                    <div className=\"mb-8\">\n                      <label\n                        htmlFor=\"name\"\n                        className=\"mb-3 block text-sm font-medium text-dark dark:text-white\"\n                      >\n                        Your Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"name\"\n                        value={form.name}\n                        onChange={handleChange}\n                        placeholder=\"Enter your name\"\n                        className=\"border-stroke w-full rounded-xs border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-hidden focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:text-body-color-dark dark:shadow-two dark:focus:border-primary dark:focus:shadow-none\"\n                      />\n                      {errors.name && (\n                        <p className=\"mt-2 text-sm text-red-500\">\n                          {errors.name}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Email */}\n                  <div className=\"w-full px-4 md:w-1/2\">\n                    <div className=\"mb-8\">\n                      <label\n                        htmlFor=\"email\"\n                        className=\"mb-3 block text-sm font-medium text-dark dark:text-white\"\n                      >\n                        Your Email\n                      </label>\n                      <input\n                        type=\"email\"\n                        name=\"email\"\n                        value={form.email}\n                        onChange={handleChange}\n                        placeholder=\"Enter your email\"\n                        className=\"border-stroke w-full rounded-xs border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-hidden focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:text-body-color-dark dark:shadow-two dark:focus:border-primary dark:focus:shadow-none\"\n                      />\n                      {errors.email && (\n                        <p className=\"mt-2 text-sm text-red-500\">\n                          {errors.email}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Message */}\n                  <div className=\"w-full px-4\">\n                    <div className=\"mb-8\">\n                      <label\n                        htmlFor=\"message\"\n                        className=\"mb-3 block text-sm font-medium text-dark dark:text-white\"\n                      >\n                        Your Message\n                      </label>\n                      <textarea\n                        name=\"content\"\n                        rows={5}\n                        value={form.content}\n                        onChange={handleChange}\n                        placeholder=\"Enter your Message\"\n                        className=\"border-stroke w-full resize-none rounded-xs border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-hidden focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:text-body-color-dark dark:shadow-two dark:focus:border-primary dark:focus:shadow-none\"\n                      ></textarea>\n                      {errors.content && (\n                        <p className=\"mt-2 text-sm text-red-500\">\n                          {errors.content}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Button */}\n                  <div className=\"w-full px-4\">\n                    <button\n                      type=\"submit\"\n                      disabled={loading}\n                      className=\"rounded-xs bg-primary px-9 py-4 text-base font-medium text-white shadow-submit duration-300 hover:bg-primary/90 dark:shadow-submit-dark disabled:opacity-60\"\n                    >\n                      {loading ? \"Sending...\" : \"Submit Ticket\"}\n                    </button>\n                  </div>\n\n                  {/* 全局提示 */}\n                  {message && (\n                    <div className=\"w-full px-4 mt-6\">\n                      <p className=\"text-sm text-center\">{message}</p>\n                    </div>\n                  )}\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Contact;"],"names":[],"mappings":"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"}